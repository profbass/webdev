var EnconSite=function(){this.win=$(window),this.body=$("body"),this.winHeight=window.innerHeight,this.winWidth=window.innerWidth,this.sections=$(".content-section, .parallax-layer"),this.home=$("#home"),this.enconHash=$(".encon-hash"),this.content=$(".section-content"),this.contentHeight=this.content.height(),this.navbar=$("#navWrapper"),this.navbarHeight=this.navbar.height(),this.navDistance=this.navbar.offset().top,this.navPosition=this.winHeight-this.navbarHeight,this.navLink=$(".navbar-nav a[href^='#'], a.nav-link[href^='#'], #nav-mobile a[href^='#']"),this.animate=$(".animate"),this.isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.init()};EnconSite.prototype={init:function(){this.sections.css({"min-height":this.winHeight}),this.content.each(function(index,el){var self=$(el),myHeight=self.height();self.css({"padding-top":window.innerHeight/2-myHeight/2})}),this.navbar.css({top:this.navPosition}),this.enconHash.css({"padding-top":window.innerHeight/2-this.enconHash.height()/2-100}),this.body.scrollspy({offset:40}),this.navLink.on("click",function(e){e.preventDefault();var hash=this.hash;$("html, body").animate({scrollTop:$(hash).offset().top-40},700,function(){window.location.hash=hash})})},stickyNav:function(){this.win.scrollTop()>=this.navPosition?(this.navbar.css({position:"fixed",top:"0"}),this.navbar.addClass("fixey")):this.win.scrollTop()<=this.navPosition&&(this.navbar.css({position:"absolute",top:this.navPosition}),this.navbar.removeClass("fixey"))},addAnimation:function(){this.animate.each(function(){var self=$(this),animationClass=self.attr("data-animation");self.visible(!0)&&0==self.hasClass("animated")&&setTimeout(function(){self.addClass("animated "+animationClass)},500)})}},function($){"use strict";$.fn.enllax=function(opt){var winHeight=$(window).height(),docHeight=$(document).height(),options=$.extend({ratio:0,type:"background",direction:"vertical"},opt),elem=$("[data-enllax-ratio]");elem.each(function(){var ratio,type,dir,$this=$(this),offset=$this.offset().top,height=$this.outerHeight(),dataRat=$this.data("enllax-ratio"),dataType=$this.data("enllax-type"),dataDir=$this.data("enllax-direction");ratio=dataRat?dataRat:options.ratio,type=dataType?dataType:options.type,dir=dataDir?dataDir:options.direction;var bgY=Math.round(offset*ratio),transform=Math.round((offset-winHeight/2+height)*ratio);"background"==type?"vertical"==dir?$this.css({"background-position":"center "+-bgY+"px"}):"horizontal"==dir&&$this.css({"background-position":-bgY+"px center"}):"foreground"==type&&("vertical"==dir?$this.css({"-webkit-transform":"translateY("+transform+"px)","-moz-transform":"translateY("+transform+"px)",transform:"translateY("+transform+"px)"}):"horizontal"==dir&&$this.css({"-webkit-transform":"translateX("+transform+"px)","-moz-transform":"translateX("+transform+"px)",transform:"translateX("+transform+"px)"})),$(window).on("scroll",function(){var scrolling=$(this).scrollTop();bgY=Math.round((offset-scrolling)*ratio),transform=Math.round((offset-winHeight/2+height-scrolling)*ratio),"background"==type?"vertical"==dir?$this.css({"background-position":"center "+-bgY+"px"}):"horizontal"==dir&&$this.css({"background-position":-bgY+"px center"}):"foreground"==type&&docHeight>scrolling&&("vertical"==dir?$this.css({"-webkit-transform":"translateY("+transform+"px)","-moz-transform":"translateY("+transform+"px)",transform:"translateY("+transform+"px)"}):"horizontal"==dir&&$this.css({"-webkit-transform":"translateX("+transform+"px)","-moz-transform":"translateX("+transform+"px)",transform:"translateX("+transform+"px)"}))})})}}(jQuery);