function animate(){context.clearRect(0,0,screenW,screenH),$.each(stars,function(){this.draw(context)})}function Star(x,y,length,opacity){this.x=parseInt(x),this.y=parseInt(y),this.length=parseInt(length),this.opacity=opacity,this.factor=1,this.increment=.03*Math.random()}var NeonSines=function(){this.win=$(window),this.body=$("body"),this.winHeight=window.innerHeight,this.winWidth=window.innerWidth,this.sections=$(".slide"),this.home=$("#home, .parallax-layer"),this.content=$(".section"),this.menuToggle=$(".nav-icon"),this.nav=$(".nav-fullscreen"),this.isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.init()};NeonSines.prototype={init:function(){this.sections.css({"min-height":this.winHeight}),this.content.each(function(index,el){var self=$(el),myHeight=self.height();self.css({"padding-top":window.innerHeight/2-myHeight/2})}),this.isMobile||this.home.css({"min-height":this.winHeight}),this.menuToggle.on("click",function(){$(this).toggleClass("active"),$(".nav-fullscreen").toggleClass("open")})}};var canvas,context,screenH,screenW,stars=[],fps=50,numStars=1e3;$("document").ready(function(){screenH=$(window).height(),screenW=$(window).width(),canvas=$("#space"),canvas.attr("height",screenH),canvas.attr("width",screenW),context=canvas[0].getContext("2d");for(var i=0;numStars>i;i++){var x=Math.round(Math.random()*screenW),y=Math.round(Math.random()*screenH),length=1+2*Math.random(),opacity=Math.random(),star=new Star(x,y,length,opacity);stars.push(star)}setInterval(animate,1e3/fps)}),Star.prototype.draw=function(){context.rotate(1*Math.PI/10),context.save(),context.translate(this.x,this.y),this.opacity>1?this.factor=-1:this.opacity<=0&&(this.factor=1,this.x=Math.round(Math.random()*screenW),this.y=Math.round(Math.random()*screenH)),this.opacity+=this.increment*this.factor,context.beginPath();for(var i=5;i--;)context.lineTo(0,this.length),context.translate(0,this.length),context.rotate(.5*Math.PI/10),context.lineTo(0,-this.length),context.translate(0,-this.length),context.rotate(-(1*Math.PI/10));context.lineTo(0,this.length),context.closePath(),context.fillStyle="rgba(255, 255, 255, "+this.opacity+")",context.shadowBlur=5,context.shadowColor="#ffffff",context.fill(),context.restore()};var Parallaxy=function(){this.win=$(window),this.body=$("body"),this.winHeight=window.innerHeight,this.winWidth=window.innerWidth,this.parallax=$(".parallax-layer"),this.isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.init()};Parallaxy.prototype={init:function(){var platform=navigator.platform.toLowerCase();navigator.userAgent.toLowerCase();this.isMobile?(this.dispelParallax(),console.log("thing")):-1!=platform.indexOf("win32")||-1!=platform.indexOf("linux")?(this.castParallax(this.parallax),$.browser.webkit&&this.castSmoothScroll()):this.castParallax(this.parallax)},castParallax:function(el){window.addEventListener("scroll",function(event){for(var layer,speed,yPos,top=this.pageYOffset,layers=el,i=0;i<layers.length;i++){layer=layers[i],speed=layer.getAttribute("data-speed");var yPos=-(top*speed/100);layer.setAttribute("style","transform: translate3d(0px, "+yPos+"px, 0px)")}})},dispelParallax:function(){$(".nonparallax").css("display","block"),$(".parallax-layer").css("display","none")},castSmoothScroll:function(){$.srSmoothscroll({step:80,speed:300,ease:"linear"})}};